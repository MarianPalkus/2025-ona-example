# Specialized AI Agent Reviewers

This document describes the specialized AI agents that automatically review pull requests based on their expertise areas, providing domain-specific feedback and recommendations.

## üéØ Available Specialists

### 1. **Software Architect** üèóÔ∏è
- **Expertise**: Architecture, design patterns, system design, scalability, performance
- **Reviews**: Architectural decisions, design patterns, system scalability, performance implications
- **Triggers**: Architecture files, config files, Docker files, system design changes
- **Model**: Claude (for complex architectural reasoning)

### 2. **Mobile Developer** üì±
- **Expertise**: iOS, Android, React Native, Flutter, mobile UX
- **Reviews**: Mobile best practices, platform-specific considerations, performance, UX
- **Triggers**: Swift, Kotlin, Java files, mobile directories, platform-specific code
- **Model**: OpenAI (for platform-specific knowledge)

### 3. **Web Developer** üåê
- **Expertise**: Frontend, React, Vue, Angular, HTML, CSS, JavaScript, TypeScript
- **Reviews**: Code quality, component design, accessibility, browser compatibility
- **Triggers**: JS/TS files, components, pages, styling files
- **Model**: Claude (for component architecture analysis)

### 4. **Backend Developer** ‚öôÔ∏è
- **Expertise**: APIs, microservices, server-side, Node.js, Python, Java, Go
- **Reviews**: API design, error handling, security, performance, business logic
- **Triggers**: API files, server files, backend directories, service files
- **Model**: Claude (for complex backend architecture)

### 5. **QA Engineer** üß™
- **Expertise**: Testing, quality assurance, test automation, bug detection
- **Reviews**: Test coverage, test quality, edge cases, error scenarios
- **Triggers**: Test files, spec files, testing directories
- **Model**: OpenAI (for comprehensive test analysis)

### 6. **Database Specialist** üóÑÔ∏è
- **Expertise**: SQL, NoSQL, data modeling, performance optimization, migrations
- **Reviews**: Data modeling, query performance, indexing, migration safety
- **Triggers**: Migration files, model files, schema files, SQL files
- **Model**: Claude (for complex data modeling)

### 7. **Security Specialist** üîí
- **Expertise**: Security, authentication, authorization, encryption, vulnerabilities
- **Reviews**: Security vulnerabilities, authentication flows, data protection
- **Triggers**: Auth files, security files, crypto files, OAuth implementations
- **Model**: Claude (for security analysis)

### 8. **DevOps Engineer** üöÄ
- **Expertise**: CI/CD, deployment, infrastructure, monitoring, containerization
- **Reviews**: Deployment safety, infrastructure as code, monitoring, reliability
- **Triggers**: CI/CD files, deployment files, Docker, Kubernetes, Terraform
- **Model**: OpenAI (for infrastructure automation)

## üîÑ Automatic Review Process

### 1. **Pull Request Detection**
When a PR is opened or updated:
- Webhook triggers specialized review system
- System analyzes changed files and PR content
- Determines relevant specialists based on:
  - File patterns and extensions
  - Keywords in title/description
  - PR labels and metadata
  - Code diff content

### 2. **Specialist Selection**
```javascript
// Relevance calculation factors:
- File patterns: 40% weight
- Keywords: 30% weight  
- Labels: 20% weight
- Diff content: 10% weight

// Threshold: 30% relevance required for review
```

### 3. **Review Generation**
Each relevant specialist:
- Analyzes the PR from their expertise perspective
- Generates structured review with recommendations
- Provides domain-specific feedback
- Assigns recommendation: APPROVE/REQUEST_CHANGES/COMMENT

### 4. **Review Posting**
- Individual specialist comments posted to PR
- Review summary created for multiple specialists
- Appropriate labels added to PR
- Status updated based on specialist recommendations

## üìù Review Format

### Individual Specialist Review

```markdown
## ‚úÖ Backend Developer Review

**Recommendation**: APPROVE

### Key Findings
- API endpoints follow RESTful conventions
- Proper error handling implemented
- Input validation is comprehensive
- Database queries are optimized

### Recommendations
- Consider adding rate limiting to authentication endpoints
- Add API versioning headers for future compatibility
- Include request/response examples in API documentation

### Positive Aspects
- Excellent error handling with proper HTTP status codes
- Clean separation of concerns in service layer
- Comprehensive input validation using Joi schemas

### Risk Assessment
- Low risk: Changes are backward compatible
- No security vulnerabilities identified
- Performance impact is minimal

---
*This review was automatically generated by the Backend Developer AI specialist.*
```

### Review Summary (Multiple Specialists)

```markdown
## ü§ñ Specialized Review Summary

**Reviewers**: Backend Developer, Security Specialist, QA Engineer

**Results**:
- ‚úÖ **Approvals**: 2
- ‚ùå **Changes Requested**: 1  
- üí¨ **Comments**: 0

### Specialist Recommendations
- **Backend Developer**: APPROVE
- **Security Specialist**: REQUEST_CHANGES
- **QA Engineer**: APPROVE

### Next Steps
‚ö†Ô∏è Please address the security issues raised before merging.

---
*This summary was generated from automated specialist reviews.*
```

## üéÆ Manual Controls

### Trigger Manual Review

```bash
# Trigger review for specific PR
curl -X POST http://localhost:9000/specialists/review \
  -H "Content-Type: application/json" \
  -d '{
    "repository": {
      "owner": "myorg",
      "name": "myproject"
    },
    "pullRequestNumber": 42
  }'
```

### Enable/Disable Specialists

```bash
# Enable specific specialists for repository
curl -X POST http://localhost:9000/specialists/repositories/myorg/myproject/enable \
  -H "Content-Type: application/json" \
  -d '{
    "specialists": ["backend-developer", "security-specialist", "qa-engineer"]
  }'

# Disable specialists
curl -X POST http://localhost:9000/specialists/repositories/myorg/myproject/disable \
  -H "Content-Type: application/json" \
  -d '{
    "specialists": ["mobile-developer"]
  }'
```

### Get Available Specialists

```bash
# List all specialists
curl http://localhost:9000/specialists

# Get specialist details
curl http://localhost:9000/specialists/backend-developer
```

## üìä Specialist Metrics

### Performance Tracking

```bash
# Get specialist metrics
curl http://localhost:9000/specialists/metrics?timeframe=30d
```

**Response:**
```json
{
  "timeframe": "30d",
  "specialists": [
    {
      "id": "backend-developer",
      "name": "Backend Developer", 
      "reviewsCompleted": 45,
      "averageReviewTime": 12,
      "issuesFound": 18,
      "approvalRate": "0.78"
    }
  ],
  "summary": {
    "totalReviews": 245,
    "averageReviewTime": 15,
    "totalIssuesFound": 89
  }
}
```

## üîß Configuration

### Specialist Configuration

```javascript
// agent-orchestrator/src/services/specializedAgents.js
const agentSpecializations = {
  'custom-specialist': {
    name: 'Custom Specialist',
    expertise: ['custom', 'domain', 'specific'],
    filePatterns: ['**/custom/**', '**/*.custom'],
    keywords: ['custom', 'specific', 'domain'],
    reviewFocus: ['custom practices', 'domain rules'],
    model: 'claude'
  }
};
```

### Repository-Specific Settings

```bash
# Enable only specific specialists for a repository
curl -X POST http://localhost:9000/specialists/repositories/myorg/frontend/enable \
  -d '{
    "specialists": ["web-developer", "qa-engineer"]
  }'

# Backend repository might use different specialists
curl -X POST http://localhost:9000/specialists/repositories/myorg/api/enable \
  -d '{
    "specialists": ["backend-developer", "database-specialist", "security-specialist"]
  }'
```

## üéØ Specialist Triggers

### File Pattern Examples

```javascript
// Web Developer triggers
'**/*.js', '**/*.ts', '**/*.jsx', '**/*.tsx'
'**/*.html', '**/*.css', '**/*.scss'
'**/components/**', '**/pages/**'

// Backend Developer triggers  
'**/api/**', '**/server/**', '**/backend/**'
'**/services/**', '**/controllers/**', '**/routes/**'

// Database Specialist triggers
'**/migrations/**', '**/models/**', '**/schemas/**'
'**/*.sql', '**/database/**', '**/db/**'

// Security Specialist triggers
'**/auth/**', '**/security/**', '**/crypto/**'
'**/ssl/**', '**/oauth/**'
```

### Keyword Detection

```javascript
// Architecture keywords
['architecture', 'design', 'pattern', 'scalability', 'performance']

// Security keywords  
['security', 'auth', 'authentication', 'encryption', 'vulnerability']

// Mobile keywords
['mobile', 'ios', 'android', 'react native', 'flutter']
```

## üöÄ Best Practices

### For Repository Owners

1. **Enable Relevant Specialists**
   - Choose specialists that match your tech stack
   - Don't enable all specialists for every repository
   - Consider team expertise gaps

2. **Configure File Patterns**
   - Customize patterns for your project structure
   - Add domain-specific file extensions
   - Exclude irrelevant directories

3. **Review Specialist Feedback**
   - Treat specialist reviews as additional input
   - Human review is still essential
   - Use specialist feedback to improve code quality

### For Development Teams

1. **Understand Specialist Focus**
   - Each specialist has specific expertise areas
   - Reviews are complementary, not comprehensive
   - Combine specialist feedback with human review

2. **Address Specialist Concerns**
   - Take specialist recommendations seriously
   - Ask for clarification if feedback is unclear
   - Use feedback to learn domain best practices

3. **Monitor Specialist Performance**
   - Track which specialists provide valuable feedback
   - Adjust enabled specialists based on usefulness
   - Provide feedback on specialist accuracy

## üîç Example Workflows

### Frontend Feature Development

1. **Developer creates PR** with React component changes
2. **Web Developer specialist** reviews:
   - Component structure and patterns
   - Accessibility considerations
   - Browser compatibility
   - Performance implications
3. **QA Engineer specialist** reviews:
   - Test coverage for new component
   - Edge case handling
   - Error boundary implementation
4. **Human reviewer** considers specialist feedback and approves

### API Development

1. **Developer creates PR** with new API endpoints
2. **Backend Developer specialist** reviews:
   - RESTful design principles
   - Error handling patterns
   - Input validation
   - Business logic separation
3. **Security Specialist** reviews:
   - Authentication/authorization
   - Input sanitization
   - Data exposure risks
4. **Database Specialist** reviews:
   - Query optimization
   - Data model changes
   - Migration safety
5. **Human reviewer** evaluates all feedback and decides

### Infrastructure Changes

1. **Developer creates PR** with Docker/K8s changes
2. **DevOps Engineer specialist** reviews:
   - Deployment safety
   - Resource allocation
   - Monitoring configuration
   - Rollback procedures
3. **Security Specialist** reviews:
   - Container security
   - Network policies
   - Secret management
4. **Software Architect** reviews:
   - Infrastructure design
   - Scalability implications
   - System reliability
5. **Human reviewer** approves infrastructure changes

This specialized review system provides comprehensive, domain-specific feedback while maintaining human oversight and decision-making authority.